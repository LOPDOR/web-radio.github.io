import{_ as V}from"./base-dropdown.vue_vue_type_script_setup_true_lang-66bbf367.js";import{d as x,m as B,g as U,o as i,c as y,w as M,v as S,h as f,t as E,_ as k,u as F,r as a,i as A,j as p,f as u,k as _,e as b,l as I,C}from"./index-87ee5b82.js";import{_ as N}from"./stations-list.vue_vue_type_script_setup_true_lang-98d3260a.js";const T={class:"text-field"},O=["id"],j=["for"],q=x({__name:"base-text-field",props:B({label:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const r=g,l=U(g,"modelValue");return(t,o)=>(i(),y("div",T,[M(f("input",{class:"text-field__input","onUpdate:modelValue":o[0]||(o[0]=d=>l.value=d),required:"",id:t.label},null,8,O),[[S,l.value]]),f("label",{class:"text-field__label",for:t.label},E(r.label),9,j)]))}}),D=k(q,[["__scopeId","data-v-4cec65db"]]),L={class:"search-view"},R={key:0,class:"form"},z={class:"form__fields"},G={class:"form__details"},H=x({__name:"search-view",setup(g){const r=F(),l=a(""),t=a(!1),o=a(!0),d=a(null),$=a(null),h=a(null),c=a("all"),m=a("all"),v=a("all");async function w(){o.value=!0,t.value=!1;try{d.value=(await r.apiClient.getCodecs({})).map(e=>({text:e.name,value:e.name})),$.value=(await r.apiClient.getLanguages({})).map(e=>({text:e.name,value:e.name})),h.value=(await r.apiClient.getCountries({})).map(e=>({text:`${I(e.code.toUpperCase())} [${e.code.toUpperCase()}] ${e.name}`,value:e.code}))}catch{t.value=!0}o.value=!1}return A(async()=>await w()),(e,s)=>(i(),y("div",L,[!o.value&&!t.value?(i(),y("div",R,[f("div",z,[p(u(D),{modelValue:l.value,"onUpdate:modelValue":s[0]||(s[0]=n=>l.value=n),label:e.$t("station.name")},null,8,["modelValue","label"]),f("div",G,[p(u(V),{modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=n=>v.value=n),showOptionAll:!0,label:e.$t("station.country"),options:h.value},null,8,["modelValue","label","options"]),p(u(V),{modelValue:m.value,"onUpdate:modelValue":s[2]||(s[2]=n=>m.value=n),showOptionAll:!0,label:e.$t("station.language"),options:$.value},null,8,["modelValue","label","options"]),p(u(V),{modelValue:c.value,"onUpdate:modelValue":s[3]||(s[3]=n=>c.value=n),showOptionAll:!0,label:e.$t("station.codec"),options:d.value},null,8,["modelValue","label","options"])])])])):_("",!0),!o.value&&!t.value?(i(),b(u(N),{key:1,showMoreButton:!0,noStationsIcon:"search",noStationsText:e.$t("noResults"),style:{height:"max-content"},params:{limit:48,order:l.value?"name":"clickcount",reverse:l.value==="",name:l.value,languageName:m.value==="all"?void 0:m.value,codec:c.value==="all"?void 0:c.value,countryCode:v.value==="all"?void 0:v.value,languageExact:!0,countryExact:!0}},null,8,["noStationsText","params"])):_("",!0),o.value?(i(),b(u(C),{key:2,type:"loading"})):_("",!0),t.value?(i(),b(u(C),{key:3,type:"info",icon:"error",text:e.$t("error"),buttonIcon:"refresh",onButtonClick:w},null,8,["text"])):_("",!0)]))}});const Q=k(H,[["__scopeId","data-v-1d0824e3"]]);export{Q as default};
